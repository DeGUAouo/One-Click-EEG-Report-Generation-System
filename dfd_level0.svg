<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="830" viewBox="0 0 1400 830">
  <defs>
    <style>
      .title { font: 700 20px sans-serif; fill: #192338; }
      .label { font: 600 13px sans-serif; fill: #192338; }
      .sublabel { font: 12px sans-serif; fill: #192338; }
      .entity { fill: #F2F4F7; stroke: #192338; stroke-width: 1.5; }
      .process { fill: #74B0C8; stroke: #192338; stroke-width: 1.5; }
      .datastore { fill: #E9EDF2; stroke: #192338; stroke-width: 1.5; }
      .arrow { stroke: #192338; stroke-width: 1.4; marker-end: url(#arrowhead); }
      .flow { font: 11px sans-serif; fill: #192338; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#192338"/>
    </marker>
  </defs>
<text x="700.0" y="30" text-anchor="middle" class="title">EEG-GPT 資料流程圖 Level 0（DFD 圖 0）</text>
<rect x="60" y="120" width="210" height="105" rx="6" ry="6" class="entity"/>
<text x="165" y="155" text-anchor="middle" class="label">醫師 / Doctor</text>
<text x="165" y="180" text-anchor="middle" class="sublabel">上傳EEG、輸入病患資料、下載報告</text>
<rect x="60" y="330" width="210" height="95" rx="6" ry="6" class="entity"/>
<text x="165" y="365" text-anchor="middle" class="label">病患 / Patient</text>
<text x="165" y="390" text-anchor="middle" class="sublabel">基本資料、量測資訊</text>
<rect x="1120" y="120" width="220" height="105" rx="6" ry="6" class="entity"/>
<text x="1230" y="155" text-anchor="middle" class="label">醫院資料庫 / Storage</text>
<text x="1230" y="180" text-anchor="middle" class="sublabel">HIS / PACS / File Server</text>
<rect x="360" y="110" width="260" height="140" rx="14" ry="14" class="process"/>
<text x="490" y="145" text-anchor="middle" class="label">(P1) 資訊儲存模組</text>
<text x="490" y="170" text-anchor="middle" class="sublabel">上傳檔案、BIDS建置、病患資料CRUD</text>
<rect x="360" y="300" width="260" height="130" rx="14" ry="14" class="process"/>
<text x="490" y="330" text-anchor="middle" class="label">(P2) EEG資料精準化</text>
<text x="490" y="355" text-anchor="middle" class="sublabel">濾波、去雜訊、重參考、分段、特徵擷取</text>
<rect x="720" y="300" width="260" height="130" rx="14" ry="14" class="process"/>
<text x="850" y="330" text-anchor="middle" class="label">(P3) AI診斷輔助</text>
<text x="850" y="355" text-anchor="middle" class="sublabel">特徵分析、推論、異常/背景分析</text>
<rect x="720" y="500" width="260" height="130" rx="14" ry="14" class="process"/>
<text x="850" y="530" text-anchor="middle" class="label">(P4) 報告生成</text>
<text x="850" y="555" text-anchor="middle" class="sublabel">視覺化圖表、PDF/Word輸出</text>
<rect x="360" y="510" width="260" height="90" rx="0" ry="0" class="datastore"/>
<text x="490" y="540" text-anchor="middle" class="label">D1 EEG資料庫</text>
<text x="490" y="565" text-anchor="middle" class="sublabel">原始EEG、處理後資料</text>
<rect x="360" y="660" width="260" height="90" rx="0" ry="0" class="datastore"/>
<text x="490" y="690" text-anchor="middle" class="label">D2 病患資料庫</text>
<text x="490" y="715" text-anchor="middle" class="sublabel">基本資料、病歷、紀錄</text>
<rect x="720" y="660" width="260" height="90" rx="0" ry="0" class="datastore"/>
<text x="850" y="690" text-anchor="middle" class="label">D3 AI分析結果庫</text>
<text x="850" y="715" text-anchor="middle" class="sublabel">模型輸出與診斷結論</text>
<rect x="1020" y="500" width="260" height="90" rx="0" ry="0" class="datastore"/>
<text x="1150" y="530" text-anchor="middle" class="label">D4 報告資料庫</text>
<text x="1150" y="555" text-anchor="middle" class="sublabel">PDF、圖表、JSON紀錄</text>
<line x1="270" y1="170" x2="360" y2="170" class="arrow"/>
<text x="315" y="160" text-anchor="middle" class="flow">EEG檔案、病患資料</text>
<line x1="270" y1="375" x2="360" y2="340" class="arrow"/>
<text x="310" y="330" text-anchor="middle" class="flow">基本資料、量測資訊</text>
<line x1="490" y1="250" x2="490" y2="510" class="arrow"/>
<text x="505" y="400" text-anchor="start" class="flow">EEG原始/中繼資料</text>
<line x1="430" y1="250" x2="430" y2="660" class="arrow"/>
<text x="365" y="455" text-anchor="start" class="flow">病患基本資料</text>
<line x1="490" y1="510" x2="490" y2="300" class="arrow"/>
<text x="505" y="445" text-anchor="start" class="flow">EEG原始資料</text>
<line x1="560" y1="365" x2="560" y2="510" class="arrow"/>
<text x="575" y="445" text-anchor="start" class="flow">處理後EEG/特徵</text>
<line x1="430" y1="660" x2="430" y2="380" class="arrow"/>
<text x="445" y="610" text-anchor="start" class="flow">病患基本資料</text>
<line x1="620" y1="365" x2="720" y2="365" class="arrow"/>
<text x="670" y="355" text-anchor="middle" class="flow">EEG特徵JSON</text>
<line x1="850" y1="430" x2="850" y2="660" class="arrow"/>
<text x="865" y="585" text-anchor="start" class="flow">AI診斷結論</text>
<line x1="850" y1="430" x2="850" y2="500" class="arrow"/>
<text x="865" y="475" text-anchor="start" class="flow">診斷結果/建議</text>
<line x1="980" y1="565" x2="1020" y2="545" class="arrow"/>
<text x="1000" y="535" text-anchor="middle" class="flow">報告內容</text>
<line x1="720" y1="565" x2="270" y2="565" class="arrow"/>
<text x="495" y="555" text-anchor="middle" class="flow">報告PDF/圖表、通知</text>
<line x1="620" y1="170" x2="1120" y2="170" class="arrow"/>
<text x="875" y="160" text-anchor="middle" class="flow">寫入/讀取EEG原始檔</text>
<line x1="1120" y1="210" x2="620" y2="210" class="arrow"/>
<text x="875" y="220" text-anchor="middle" class="flow">同步病歷/備份</text>
</svg>